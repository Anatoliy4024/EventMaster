# Проект EventMaster

## Версия 2.0 (Обновлено в сентябре 2024 года)

### 1. Обзор

**EventMaster** — это проект для автоматизации процессов организации и управления мероприятиями. Проект включает в себя два Telegram-бота:

- **AdminBot**: Бот для администрирования мероприятий.
- **PicnicBot**: Бот для пользователей, который позволяет бронировать мероприятия.

### 2. Структура проекта

Проект имеет следующую файловую структуру:

1. **AdminBot**: Основной бот для администрирования мероприятий.
2. **PicnicBot**: Бот для взаимодействия с конечными пользователями, которые хотят забронировать мероприятие.

```
EventMaster/
├── .venv/
├── bot/
│   ├── admin_bot/
│   │   ├── helpers/
│   │   │   ├── logs/
│   │   │   ├── __init__.py
│   │   │   └── database_helpers.py
│   │   ├── keyboards/
│   │   │   ├── __init__.py
│   │   │   └── admin_keyboards.py
│   │   ├── scenarios/
│   │   │   ├── __init__.py
│   │   │   └── user_scenario.py
│   │   ├── __init__.py
│   │   └── main.py
│   ├── picnic_bot/
│   │   ├── helpers/
│   │   │   ├── log/
│   │   │   ├── __init__.py
│   │   │   ├── db_helpers.py
│   │   │   └── order_calculation.py
│   │   ├── keyboards/
│   │   │   ├── __init__.py
│   │   │   └── picnic_keyboards.py
│   │   ├── step_handlers/
│   │   │   ├── __init__.py
│   │   │   ├── abstract_functions.py
│   │   │   ├── calculations.py
│   │   │   ├── message_handlers.py
│   │   │   └── order_info_sender.py
│   │   ├── media/
│   │   │   ├── __init__.py
│   │   │   ├── IMG_4077_1 (online-video-cutter.com).mp4
│   │   │   ├── IMG_5981 (online-video-cutter.com).mp4
│   │   │   ├── IMG_6156 (online-video-cutter.com).mp4
│   │   │   └── IMG_6412 (online-video-cutter.com).mp4
│   │   ├── __init__.py
│   │   └── main.py
├── shared/
│   ├── db/
│   │   ├── __init__.py
│   │   ├── check_db_structure.py
│   │   ├── database_logger.py
│   │   ├── initialize_db.py
│   │   └── view_database.py
│   ├── __init__.py
│   ├── config.py
│   ├── constants.py
│   ├── helpers.py
│   └── translations.py
├── utils/
├── README.md
└── requirements.txt
```

### 3. Архитектура

#### 3.1 Принцип модульности

Мы придерживаемся принципа модульности, разделяя функциональность на независимые модули. Это позволяет легко расширять и поддерживать код, а также повторно использовать его в других проектах.

#### 3.2 Модули AdminBot

1. **helpers/database_helpers.py**: Вспомогательные функции для работы с базой данных и отправки проформ пользователям.
2. **keyboards/admin_keyboards.py**: Создание интерактивных клавиатур для взаимодействия с пользователем.
3. **scenarios/user_scenario.py**: Сценарий взаимодействия с пользователем.
4. **main.py**: Основной файл для запуска AdminBot.

#### 3.3 Модули PicnicBot

1. **helpers/db_helpers.py**: Работа с базой данных.
2. **helpers/order_calculation.py**: Модуль для расчета стоимости мероприятия.
3. **keyboards/picnic_keyboards.py**: Клавиатуры и кнопки для взаимодействия с пользователями.
4. **step_handlers/**:
    - `abstract_functions.py`: Абстрактные функции, используемые для обработки шагов.
    - `calculations.py`: Модуль для выполнения вычислений.
    - `message_handlers.py`: Обработчики сообщений от пользователей.
    - `order_info_sender.py`: Модуль для отправки информации о заказе.
5. **main.py**: Основной файл для запуска PicnicBot.

#### 3.4 Общие модули (shared/)

- **config.py**: Конфигурационные данные для обоих ботов.
- **constants.py**: Константы и временные данные.
- **translations.py**: Переводы текстов сообщений и кнопок на различные языки.
- **helpers.py**: Вспомогательные функции, используемые обоими ботами.
- **db/**: Модули для работы с базой данных, включая инициализацию, проверку структуры и просмотр данных.

### 4. Новые компоненты в версии 2.0

#### 4.1 Добавлены следующие модули

1. **PicnicBot**: Новый бот, интегрированный с EventMaster, который позволяет пользователям бронировать мероприятия.
2. **step_handlers/**: Модули для пошаговой обработки взаимодействия с пользователем.
3. **media/**: Хранение медиафайлов, используемых в PicnicBot.

### 5. Примечания

- В версии 2.0 реализована интеграция PicnicBot с AdminBot, что позволяет использовать общие ресурсы и модули.
- Улучшена структура проекта, что облегчает его дальнейшую поддержку и развитие.
